# 学习目标

- 了解Redis服务端和客户的命令

## 服务器端

- 服务器端的命令为redis-server

- 可以使用help查看帮助文档

  > redis-server --help

- 推荐使用服务的方式管理redis服务

- 启动

  > sudu servece redis star 

- 停止

  > sudu service redis stop

- 重启 

  > sudu service redis restart

- 个人习惯

  > ps -ef|grep redis 查看redis 服务器进程
  >
  > sudu kill -9 pid 杀死redis服务器
  >
  > sudu redis-server /etc/redis/redis.conf   指定加载的配置文件

## 客户端

- 客户端的命令为 redis-cli

- 可以使用help查看帮助文档

  > redis-cli --help

  ```python
  C:\Users\Administrator>redis-cli --help
  redis-cli 3.2.100
  
  Usage: redis-cli [OPTIONS] [cmd [arg [arg ...]]]
    -h <hostname>      Server hostname (default: 127.0.0.1).
    -p <port>          Server port (default: 6379).
    -s <socket>        Server socket (overrides hostname and port).
    -a <password>      Password to use when connecting to the server.
    -r <repeat>        Execute specified command N times.
    -i <interval>      When -r is used, waits <interval> seconds per command.
                       It is possible to specify sub-second times like -i 0.1.
    -n <db>            Database number.
    -x                 Read last argument from STDIN.
    -d <delimiter>     Multi-bulk delimiter in for raw formatting (default: \n).
    -c                 Enable cluster mode (follow -ASK and -MOVED redirections).
    --raw              Use raw formatting for replies (default when STDOUT is
                       not a tty).
    --no-raw           Force formatted output even when STDOUT is not a tty.
    --csv              Output in CSV format.
    --stat             Print rolling stats about server: mem, clients, ...
    --latency          Enter a special mode continuously sampling latency.
    --latency-history  Like --latency but tracking latency changes over time.
                       Default time interval is 15 sec. Change it using -i.
    --latency-dist     Shows latency as a spectrum, requires xterm 256 colors.
                       Default time interval is 1 sec. Change it using -i.
    --lru-test <keys>  Simulate a cache workload with an 80-20 distribution.
    --slave            Simulate a slave showing commands received from the master.
    --rdb <filename>   Transfer an RDB dump from remote server to local file.
    --pipe             Transfer raw Redis protocol from stdin to server.
    --pipe-timeout <n> In --pipe mode, abort with error if after sending all data.
                       no reply is received within <n> seconds.
                       Default timeout: 30. Use 0 to wait forever.
    --bigkeys          Sample Redis keys looking for big keys.
    --scan             List all keys using the SCAN command.
    --pattern <pat>    Useful with --scan to specify a SCAN pattern.
    --intrinsic-latency <sec> Run a test to measure intrinsic system latency.
                       The test will run for the specified amount of seconds.
    --eval <file>      Send an EVAL command using the Lua script at <file>.
    --ldb              Used with --eval enable the Redis Lua debugger.
    --ldb-sync-mode    Like --ldb but uses the synchronous Lua debugger, in
                       this mode the server is blocked and script changes are
                       are not rolled back from the server memory.
    --help             Output this help and exit.
    --version          Output version and exit.
  
  Examples:
    cat /etc/passwd | redis-cli -x set mypasswd
    redis-cli get mypasswd
    redis-cli -r 100 lpush mylist x
    redis-cli -r 100 -i 1 info | grep used_memory_human:
    redis-cli --eval myscript.lua key1 key2 , arg1 arg2 arg3
    redis-cli --scan --pattern '*:12345*'
  
    (Note: when using --eval the comma separates KEYS[] from ARGV[] items)
  
  When no command is given, redis-cli starts in interactive mode.
  Type "help" in interactive mode for information on available commands
  and settings.
  ```

- 连接redis

  > redis-cli    //中间不能有空格

  ```python
  C:\Users\Administrator>redis-cli
  127.0.0.1:6379>
  
  ```

- 运行测试命令

  > ping

  ```python
  C:\Users\Administrator>redis-cli
  127.0.0.1:6379> ping
  PONG
  127.0.0.1:6379>
  ```

- 切换数据库

- 数据库没有名称，默认有16个，可以通过0-15来选择，连接redis默认选择为第一个数据库也就是0号数据库。

  > select n     //后面跟一个数字比如1   输入0后切换回来

  ```python
  127.0.0.1:6379> select 1
  OK
  127.0.0.1:6379[1]> select 0
  OK
  127.0.0.1:6379>
  ```

  