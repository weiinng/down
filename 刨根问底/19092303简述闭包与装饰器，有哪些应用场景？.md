# 简述闭包与装饰器，有哪些应用场景？

## 闭包

### 什么是闭包？

在函数内部在定义一个函数，并且这个函数用到了外边函数的变量，那么将这个函数以及用到一些变量成为闭包。











## 装饰器

### 谈一谈Python的装饰器（decorator）

装饰器本质上是一个Python函数，它可以让其它函数在不作任何变动的情况下增加额外功能，装饰器的返回值也是一个函数对象。它经常用于有切面需求的场景。比如：插入日志、性能测试、事务处理、缓存、权限校验等。有了装饰器我们就可以抽离出大量的与函数功能无关的雷同代码进行重用。

装饰器其实就是一个闭包，把一个函数当做参数然后返回一个替代版函数

### 什么是装饰器？

装饰器经常被用于有切面的场景，较为经典的有插入日志、性能测试、事务处理等。

装饰器是解决这类问题的绝佳设计。

有了装饰器，我们就可以抽离出大量函数中与函数功能本身无关的雷同代码并继续重用。概括的讲，装饰器的作用就是为已经存在的对象添加额外的功能。

### 对装饰器的理解

装饰器本质上是一个callable object ，它可以让其他函数在不需要做任何代码变动的前提下增加额外功能，装饰器的返回值也是一个函数对象。

### 函数装饰器有什么作用？

装饰器本质上是一个Python的  函数，它可以在让其他函数在不需要做任何代码的变动的前提下增加额外的功能。装饰器的报道查看值也是一个函数的对象，它经常用于有切面需求的场景。 比如：插入日志，性能测试，事务处理，缓存，权限的校验等场景 有了装饰器就可以抽离出大量的与函数功能本身无关的雷同代码并发并继续使用。

### 常用装饰器

#### @property

将方法变成变量形式自动调用

#### @staticmethod

静态方法，类可以不用实例化就可以调用该方法 C.f()，当然也可以实例化后调用 C().f()。

#### @classmethod

类不需实例化就可以调用内部方法，直接类名.方法即可调用

### 装饰器的作用和功能

- 引入日志
- 函数执行时间统计
- 执行函数前预备处理
- 执行函数后的清理功能
- 权限校验等场景
- 缓存